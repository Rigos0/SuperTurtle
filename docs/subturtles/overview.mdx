---
title: SubTurtles Overview
description: What SubTurtles are, how their workspaces and state files work, and how they stop safely
---

# SubTurtles Overview

SubTurtles are autonomous background coding agents. The Meta Agent uses them to execute tasks without constant human supervision.

The core model is simple:
- Meta Agent decides what should be done.
- SubTurtle executes one focused backlog item at a time.
- State is tracked in `.subturtles/<name>/CLAUDE.md`.
- Completion is signaled by writing `## Loop Control` and `STOP`.

## What a SubTurtle Is

A SubTurtle is a worker process started by `./super_turtle/subturtle/ctl spawn` that runs an autonomous coding loop (`slow`, `yolo`, `yolo-codex`, or `yolo-codex-spark`).

Each SubTurtle:
- Runs in its own workspace: `.subturtles/<name>/`
- Reads and writes only its own task state file
- Works from repo root, so it can modify project code
- Is constrained by a timeout watchdog
- Is supervised by recurring, silent cron check-ins

<Info>
Default spawn settings are `--type yolo-codex`, `--timeout 1h`, and `--cron-interval 10m`.
</Info>

## Workspace Structure

Example workspace for a SubTurtle named `docs-agent`:

```text
.subturtles/docs-agent/
├── CLAUDE.md        # Per-agent task state (source of truth)
├── AGENTS.md        # Symlink to CLAUDE.md
├── subturtle.pid    # Worker process id
├── subturtle.log    # stdout/stderr log stream
├── subturtle.meta   # Spawned timestamp, timeout, type, watchdog pid, cron job id
├── .tunnel-url      # Optional frontend preview URL
└── screenshots/     # Optional verification artifacts
```

`ctl spawn` seeds `CLAUDE.md`, creates the `AGENTS.md` symlink, starts the SubTurtle, and registers recurring cron supervision.

## State File Ownership

`CLAUDE.md` is the contract between Meta Agent and SubTurtle.

```markdown
## Current Task
Write docs/subturtles/overview.mdx.

## End Goal with Specs
[acceptance criteria]

## Backlog
- [x] Read key source docs
- [ ] Write docs/subturtles/overview.mdx <- current
- [ ] Commit
```

Lifecycle:
1. Meta Agent writes initial `.subturtles/<name>/CLAUDE.md` before spawn.
2. SubTurtle reads it each iteration, does one commit-sized slice, and updates backlog progress.
3. Supervisor check-ins inspect this file to determine `Finished`, `Milestone`, `Stuck`, or `Error` events.

## Self-Completion via Loop Control

When all backlog items are complete, the SubTurtle appends:

```markdown
## Loop Control
STOP
```

The loop checks for this directive after iterations and exits cleanly when present.

```bash
# In super_turtle/subturtle/__main__.py
STOP_DIRECTIVE = "## Loop Control\\nSTOP"
```

After self-stop, completion handoff logic triggers cleanup via `ctl stop` semantics (including cron removal/archive behavior).

## Timeout and Watchdog

SubTurtles are protected by a watchdog created at start:
- Watchdog sleeps until timeout.
- If worker is still running, send `SIGTERM`.
- Wait 5 seconds.
- If still running, send `SIGKILL`.

This prevents runaway loops and guarantees bounded runtime even if an agent gets stuck.

```bash
./super_turtle/subturtle/ctl spawn docs-agent --timeout 30m
```

Accepted duration format is flexible (`30m`, `1h`, `2h`, `4h`, etc.).

## End-to-End Flow

<Steps>
  <Step title="Meta Agent seeds state">
    It writes `.subturtles/&lt;name&gt;/CLAUDE.md` with current task, end goal, and backlog.
  </Step>
  <Step title="Meta Agent spawns worker">
    It runs:
    ```bash
    ./super_turtle/subturtle/ctl spawn <name> --type yolo-codex --state-file <path-or-stdin>
    ```
  </Step>
  <Step title="SubTurtle iterates autonomously">
    It reads state, implements one focused change, verifies, updates state, and commits.
  </Step>
  <Step title="Supervisor checks silently">
    Recurring cron checks stay silent unless there is meaningful news.
  </Step>
  <Step title="SubTurtle self-stops">
    It writes `## Loop Control` + `STOP` when backlog is complete.
  </Step>
  <Step title="Meta cleanup and next action">
    The system finalizes cleanup and either starts the next queued task or reports full completion.
  </Step>
</Steps>

## Related Pages

- [Loop Types](/subturtles/loop-types)
- [CTL Commands](/subturtles/ctl-commands)
- [State Files](/subturtles/state-files)
- [Meta Supervision](/meta/supervision)
